(this["webpackJsonprest-countries-api-with-color-theme-switcher"]=this["webpackJsonprest-countries-api-with-color-theme-switcher"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(36)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),l=a.n(o),c=(a(21),a(22),a(1));function s(e){var t=Object(n.useState)({status:"loading"}),a=Object(c.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){fetch(e).then((function(e){if(!e.ok){if(404===e.status)return[];throw Error(e.status.toString())}return e.json()})).then((function(e){return o({status:"loaded",payload:e})}),(function(e){return o({status:"error",error:e})}))}),[e]),r}function i(e){var t="https://restcountries.eu/rest/v2",a="name;flag;population;region;capital;alpha3Code",n="".concat(a,";nativeName;subregion;topLevelDomain;currencies;languages;borders");switch(e.type){case"all":return"responseSample.json";case"name":return"".concat(t,"/name/").concat(e.query,"?fields=").concat(a);case"region":return"".concat(t,"/region/").concat(e.query,"?fields=").concat(a);case"code":return"".concat(t,"/alpha/").concat(e.query,"?fields=").concat(n);case"codes":return"".concat(t,"/alpha/?codes=").concat(e.query,"&fields=name;alpha3Code")}}var u={dark:{textColor:"hsl(0, 0%, 100%)",inputColor:"hsl(0, 0%, 100%)",elementColor:"hsl(209, 23%, 22%)",backgroundColor:"hsl(207, 26%, 17%)"},light:{textColor:"hsl(200, 15%, 8%)",inputColor:"hsl(0, 0%, 52%)",elementColor:"hsl(0, 0%, 100%)",backgroundColor:"hsl(0, 0%, 98%)"}},m=r.a.createContext({darkMode:!1,colors:u.light,toggle:function(){}}),d=function(e){var t=e.children,a=Object(n.useState)(!0),o=Object(c.a)(a,2),l=o[0],s=o[1],i=l?u.dark:u.light;return r.a.createElement(m.Provider,{value:{darkMode:l,colors:i,toggle:function(){s(!l)}}},t)},g=a(11),h=a.n(g),f=a(9),p=a.n(f),y=(a(23),function(){var e=Object(n.useContext)(m),t=e.darkMode,a=e.toggle;return r.a.createElement("button",{onClick:a,className:"theme-toggle"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:"theme-toggle__icon"}),"\xa0Day Mode"):r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{className:"theme-toggle__icon theme-toggle__icon--rotate"}),"\xa0Night Mode"))}),E=function(e){var t=e.children,a=Object(n.useContext)(m).colors;return r.a.createElement("div",{className:"page",style:{color:a.textColor,backgroundColor:a.backgroundColor}},r.a.createElement("header",{className:"page__header",style:{backgroundColor:a.elementColor}},r.a.createElement("h1",{className:"header__title"},"Where in the world?"),r.a.createElement(y,null)),r.a.createElement("main",{className:"page__content"},t))},C=a(12),v=a.n(C),b=(a(29),function(e){var t=e.onChange,a=Object(n.useContext)(m).colors;return r.a.createElement("div",{className:"controls__search",style:{color:a.inputColor,backgroundColor:a.elementColor}},r.a.createElement(v.a,null),r.a.createElement("input",{type:"text",name:"search",id:"search",placeholder:"Search for a country...",onChange:function(e){var a=e.target;return t(a.value)},className:"search__input"}))}),_=function(e){var t=e.onChoice,a=Object(n.useContext)(m).colors;return r.a.createElement("select",{id:"region",name:"region",className:"controls__filter",style:{color:a.textColor,backgroundColor:a.elementColor},onChange:function(e){var a=e.target;return t(a.value)}},r.a.createElement("option",{value:"Africa"},"Africa"),r.a.createElement("option",{value:"Americas"},"Americas"),r.a.createElement("option",{value:"Asia"},"Asia"),r.a.createElement("option",{value:"Europe"},"Europe"),r.a.createElement("option",{value:"Oceania"},"Oceania"))},N=(a(30),function(e){var t=e.src,a=e.alt;return r.a.createElement("figure",{className:"c-country-flag"},r.a.createElement("img",{src:t,alt:a,className:"c-country-flag__img"}))}),k=(a(31),function(e){var t=Object(n.useContext)(m).colors;return r.a.createElement("div",{className:"card",style:{color:t.textColor,backgroundColor:t.elementColor}},r.a.createElement("div",{className:"card__flag"},r.a.createElement(N,{src:e.flag,alt:"".concat(e.name,"'s flag")})),r.a.createElement("div",{className:"card__info"},r.a.createElement("p",{className:"card__title"},e.name),r.a.createElement("span",null,"Population: ",e.population.toLocaleString()),r.a.createElement("br",null),r.a.createElement("span",null,"Region: ",e.region),r.a.createElement("br",null),r.a.createElement("span",null,"Capital: ",e.capital),r.a.createElement("br",null)))}),j=(a(32),function(e){var t=e.service,a=e.showDetails;return r.a.createElement(r.a.Fragment,null,"loading"===t.status&&"Loading...","loaded"===t.status&&r.a.createElement("ul",{className:"country-list"},t.payload&&t.payload.length?t.payload.map((function(e,n){return r.a.createElement("li",{key:n,className:"country-list__item"+(n===t.payload.length-1?" country-list__item--last":""),onClick:function(){return a(e.alpha3Code)}},r.a.createElement(k,e))})):"Nothing found."),"error"===t.status&&t.error.toString())}),O=function(e){var t=e.service,a=e.showDetails,n=e.searchByCountryName,o=e.searchByRegion;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{action:"#",className:"controls"},r.a.createElement(b,{onChange:n}),r.a.createElement(_,{onChoice:o})),r.a.createElement(j,{service:t,showDetails:a}))},x=a(13),w=(a(33),function(e){var t=e.borderCodes,a=e.goToCountry,o=Object(n.useContext)(m).colors,l=s(i({type:"codes",query:t.join(";")}));return r.a.createElement("ul",{className:"c-country-borders__list"},"loading"===l.status&&"Loading...","loaded"===l.status&&r.a.createElement(r.a.Fragment,null,l.payload.map((function(e,t){return r.a.createElement("li",{className:"c-country-borders__item",key:t},r.a.createElement("button",{className:"c-btn",onClick:function(){return a(e.alpha3Code)},style:{color:o.textColor,backgroundColor:o.elementColor}},e.name))}))))}),B=function(e){var t=e.details;return r.a.createElement("ul",{className:"c-details-list"},t.map((function(e,t){var a=e.title,n=e.value;return r.a.createElement("li",{className:"c-details-list__item",key:t},r.a.createElement("span",{className:"h-bold"},a,":\xa0"),n)})))},S=a(14),q=a.n(S),D=(a(34),function(e){var t=e.onClick,a=Object(n.useContext)(m).colors;return r.a.createElement("button",{className:"c-btn c-btn--control",onClick:function(e){return t(e)},style:{color:a.textColor,backgroundColor:a.elementColor}},r.a.createElement(q.a,null),"Back")}),L=function(e){var t=e.countryCode,a=e.goBack,o=e.goToCountry,l={type:"code",query:t},u=Object(n.useState)(i(l)),m=Object(c.a)(u,2),d=m[0],g=m[1];Object(n.useEffect)((function(){return g(i(l))}),[l]);var h=s(d),f=Object(x.a)({},h.payload),p=[],y=[],E=[],C=[];return"loaded"===h.status&&h.payload&&h.payload.languages&&(E=f.languages.map((function(e){return e.name})),C=f.currencies.map((function(e){return e.name})),p=[{title:"Native name",value:f.nativeName},{title:"Population",value:f.population.toLocaleString()},{title:"Region",value:f.region},{title:"Subregion",value:f.subregion},{title:"Capital",value:f.capital}],y=[{title:"Top level domain",value:f.topLevelDomain.join(", ")},{title:"Currencies",value:C.join(", ")},{title:"Languages",value:E.join(", ")}]),r.a.createElement("div",{className:"c-country-details"},r.a.createElement("div",{className:"c-controls"},r.a.createElement(D,{onClick:function(){return a()}})),"loading"===h.status&&"Loading","loaded"===h.status&&r.a.createElement("div",{className:"c-country-details__content"},r.a.createElement("div",{className:"c-country-details__flag"},r.a.createElement(N,{src:f.flag,alt:"".concat(f.name,"'s flag.")})),r.a.createElement("div",{className:"c-country-details__text-info"},r.a.createElement("header",{className:"c-country-details__header"},f.name),r.a.createElement("div",{className:"l-list-container"},r.a.createElement(B,{details:p}),r.a.createElement(B,{details:y})),r.a.createElement("div",{className:"c-country-borders"},r.a.createElement("header",{className:"c-country-borders__header"},"Border Countries:\xa0"),0===f.borders.length?"None":r.a.createElement(w,{borderCodes:f.borders,goToCountry:o})))),"error"===h.status&&h.error.toString())},A=function(){var e=function(){var e=Object(n.useState)({location:"home"}),t=Object(c.a)(e,2),a=t[0],r=t[1];return{currentView:a,showDetails:function(e){r({location:"details",code:e})},goHome:function(){return r({location:"home"})}}}(),t=e.currentView,a=e.showDetails,o=e.goHome,l=function(){var e=Object(n.useState)(i({type:"all"})),t=Object(c.a)(e,2),a=t[0],r=t[1];return{apiQuery:a,searchByCountryName:function(e){e||r("responseSample.json"),e.length<3||r(i({type:"name",query:e}))},searchByRegion:function(e){e&&r(i({type:"region",query:e}))},searchByCode:function(e){e&&r(i({type:"code",query:e}))},searchByCodes:function(e){e&&r(i({type:"codes",query:e}))}}}(),u=l.apiQuery,m=l.searchByCountryName,g=l.searchByRegion,h=s(u);return r.a.createElement(d,null,r.a.createElement(E,null,"home"===t.location&&r.a.createElement(O,{service:h,showDetails:a,searchByCountryName:m,searchByRegion:g}),"details"===t.location&&r.a.createElement(L,{countryCode:t.code,goBack:o,goToCountry:a})))};l.a.render(r.a.createElement(A,null),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.3831e5d7.chunk.js.map